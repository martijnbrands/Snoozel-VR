<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Snoozel-VR</title>
    <meta name="description" content="Snoozel-VR">
    <!-- Loading Aframe -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!-- Environment component -->
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <!-- Particle component -->
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <!-- Randomize component -->
    <script src="https://harlyq.github.io/aframe-randomize-component/aframe-randomize-component.js"></script>
    <!-- Entity Generator -->
    <script src="https://unpkg.com/aframe-entity-generator-component@3.0.2/dist/aframe-entity-generator-component.min.js"></script>
    <!-- Physics system -->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <!-- Event set component -->
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
</head>
  </head>
  <body>
    <a-scene background="color: #fff" light="defaultLightsEnabled: false">
      <a-assets>
          <a-mixin id="randomBubble" geometry="primitive: sphere" randomize="position:2.7 0 -2.7..3.3 4 -3.3; scale:0.01 0.01 0.01|0.03 0.03 0.03|0.05 0.05 0.05;"></a-mixin>
          <a-mixin id="randomBubbleAnimation" animation="property: object3D.position.y; to: 4; loop: true; dir: forwards easing:easeInCubic;" randomize="animation.dur:2000..6000"></a-mixin>
      </a-assets>

      <a-camera>
          <a-cursor material="color: #ffff00;"></a-cursor>
      </a-camera>

      <a-entity id="room" position="0 0 4">
        <a-box position="0 3 0" width="0.5" depth="0.5" height="6" rotation="" color="#fff" material="" geometry="width: 8; depth: 0.1"></a-box>
        <a-box position="-4 3 -4" width="0.5" depth="0.5" height="6" rotation="0 90 0" color="#fff" material="" geometry="width: 8; depth: 0.1"></a-box>
        <a-box position="0 3 -8" width="0.5" depth="0.5" height="6" rotation="" color="#fff" material="" geometry="width: 8; depth: 0.1"></a-box>
        <a-box position="4 3 -4" width="0.5" depth="0.5" height="6" rotation="0 90 0" color="#fff" material="" geometry="width: 8; depth: 0.1"></a-box>
        <a-plane position="0 0 -4" rotation="-90 0 0" width="8" height="8" color="#fff"></a-plane>
        <a-plane position="0 6 -4" rotation="-90 0 0" width="8" height="8" color="#000"></a-plane>
      </a-entity>

      <!-- Tube -->
      <a-entity id="tube">
        <a-cylinder position="3 0.25 -3" color="#ffffff" scale="0.55 0.55 0.55" height="1" width="0.1"></a-cylinder>
        <a-cylinder position="3 2 -3" color="#ff00e0" scale="0.5 0.5 0.5" height="8" width="0.1" open-ended="true" material="transparent: true; opacity: 0.5"></a-cylinder>
        <a-light type="spot" position="3 0 -3" rotation="90 0 0" light="type:  spot;  color:  #00f0ff;  angle:  15;  distance:  3.5;  intensity:  3"></a-light>

        <!-- IMPORTANT FIRST ADD THE ANIMATION MIXIN AND THEN THE GEOMETRY MIXIN -->
        <a-entity entity-generator="mixin: randomBubbleAnimation randomBubble; num:200" ></a-entity>
      </a-entity>

      <!-- Moving Boxes -->
      <!-- <a-box id="three" visible="false" position="-2 2 3" color="blue" static-body></a-box>
      <a-box id="twospring"
             position="-2 1 3"
             color="white"
             dynamic-body
             spring="target: #three;">
       </a-box> -->

      <a-entity id="grid-wall">
        <!-- Bottom row -->
        <a-box position="3 1 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #f2f4f6"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="1 1 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #1ee3cf"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-1 1 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #6b48ff"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-3 1 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #0d3f67"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <!-- Middle row -->
        <a-box position="3 3 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #eeeeee"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="1 3 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #b206b0"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-1 3 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #ff4949"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-3 3 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #c10000"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <!-- Top row -->
        <a-box position="3 5 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #b206b0"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="1 5 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #ff8246"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-1 5 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #6c5ce7"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        <a-box position="-3 5 3.9" color="#4CC3D9" geometry="depth:  0.1; width:2; height:2;" 
          event-set__enter="_event: mouseenter; color: #94fc13"
          event-set__leave="_event: mouseleave; color: #4CC3D9">
        </a-box>
        
      </a-entity>

       <!-- Sealing Video -->
       <a-video src="sealing_video.mp4" position="0 6 0" rotation="90 0 0" scale="8 8 0"></a-video>
       
      <!-- Lighting -->
      <a-light type="point" color="blue" position="0 6 0" light="color: #739efc"></a-light>
      <a-light type="spot" color="pink" position="-3.6 0 -3.6" rotation="70 50 -70" light="color: #ff00b2"></a-light>
      <!-- <a-light type="spot" animation="property: light.color; to: #ff00e8; loop: true; dir: alternate; dur: 1000" position="2.60474 0.47545 -2.82373" rotation="14.807521257360996 -86.29775718701434 -101.84382104229896" light="intensity: 0.5 color: #00ffe4; angle: 5"> -->
      </a-light>
    </a-scene>
  </body>
</html>