<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Snoozel-VR</title>
    <meta name="description" content="Snoozel-VR">
    <!-- Loading Aframe -->
    <script src="https://aframe.io/releases/0.9.2/aframe.min.js"></script>
    <!-- Environment component -->
    <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
    <!-- Particle component -->
    <script src="https://unpkg.com/aframe-particle-system-component@1.0.x/dist/aframe-particle-system-component.min.js"></script>
    <!-- Randomize component -->
    <script src="https://harlyq.github.io/aframe-randomize-component/aframe-randomize-component.js"></script>
    <!-- Entity Generator -->
    <script src="https://unpkg.com/aframe-entity-generator-component@3.0.2/dist/aframe-entity-generator-component.min.js"></script>
    <!-- Physics system -->
    <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v3.3.0/dist/aframe-physics-system.min.js"></script>
    <!-- Event set component -->
    <script src="https://unpkg.com/aframe-event-set-component@3.0.3/dist/aframe-event-set-component.min.js"></script>
    <!-- Stars component -->
    <script src="https://cdn.rawgit.com/matthewbryancurtis/aframe-star-system-component/db4f1030/index.js"></script>
    <!-- Template component -->
    <script type="javascript" src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
    <script src="https://unpkg.com/aframe-template-component@3.2.1/dist/aframe-template-component.min.js"></script>

  </head>
  <body>
    <a-scene background="color: #fff">
      <a-assets>
          <a-mixin id="randomBlueBubble" material="color: #0098f1;" geometry="primitive: sphere" randomize="position:3.4 0 -3.4..3.6 4 -3.6; scale:0.01 0.01 0.01|0.02 0.02 0.02|0.03 0.03 0.03;"></a-mixin>
          <a-mixin id="randomYellowBubble" material="color: #ffee00;" geometry="primitive: sphere" randomize="position:1.9 0 -2.9..2.1 4 -3.1; scale:0.01 0.01 0.01|0.02 0.02 0.02|0.03 0.03 0.03;"></a-mixin>
          <a-mixin id="randomPinkBubble" material="color: #ff008d;" geometry="primitive: sphere" randomize="position:2.9 0 -1.9..3.1 4 -2.1; scale:0.01 0.01 0.01|0.02 0.02 0.02|0.03 0.03 0.03;"></a-mixin>
          
          <a-mixin id="blueBubbleAnimation" animation="property: object3D.position.y; to: 4.5; loop: true; dir: forwards easing:easeInCubic;" randomize="animation.dur:2000..6000"></a-mixin>
          <a-mixin id="yellowBubbleAnimation" animation="property: object3D.position.y; to: 3.5; loop: true; dir: forwards easing:easeInCubic;" randomize="animation.dur:2000..6000"></a-mixin>
          <a-mixin id="pinkBubbleAnimation" animation="property: object3D.position.y; to: 3; loop: true; dir: forwards easing:easeInCubic;" randomize="animation.dur:2000..6000"></a-mixin>

          <script id="forest" type="text/x-nunjucks-template">
            {% for x in range(0, 10) %}
              {% for z in range(0, 10) %}
                {% for y in range(0, 10) %}
                <a-entity geometry="primitive: box; width: 1; height: 1;" rotation="0 0 0" position="{{ x }} 0 {{ z }}" animation="property: rotation; to: 0 0 90; loop: true; dur: 5000; delay:1000}">
                </a-entity>
                {% endfor %}
              {% endfor %}
            {% endfor %}
          </script>
        </a-assets>
      <!-- Camera -->
      <a-camera>
          <a-cursor material="color: #ffff00;"></a-cursor>
      </a-camera>

      <a-sphere position="0 6 0" geometry="primitive:  sphere; radius: 3; thetaStart:  -90;  segmentsHeight:  200" material="opacity:  0.3; transparent:  true"></a-sphere>
      <a-entity position="0 6 0" rotation="90 0 0" geometry="primitive:  ring;  radiusInner:  3;  radiusOuter:  6;"
          material="side: double"></a-entity>
      <!-- Ambient Sound -->
      <!-- <a-sound src="src: url(assets/ambient_sound.mov)" volume="0.5" autoplay="true"></a-sound> -->

      <!-- Star system -->
      <a-sky color="black"></a-sky>
      <a-entity star-system></a-entity>

      <a-entity id="room">
        <!-- Front wall -->
        <a-plane id="front_wall" position="0 3 -4" height="6" color="#62666f" geometry="width: 8;"></a-plane>
        <!-- Right Wall -->
        <a-plane id="right_wall" position="4 3 0" height="6" rotation="0 -90 0" color="#dbdbdb" geometry="width: 8;"></a-plane>
        <!-- Left Wall -->
        <a-plane id="left_wall" position="-4 3 0" height="6" rotation="0 90 0" color="#dbdbdb" geometry="width: 8;"></a-plane>
        <!-- Back wall -->
        <!-- <a-plane id="back_wall" position="0 3 4" height="6" rotation="0 180 0" color="#62666f" geometry="width: 8;"></a-plane> -->
        <!-- Floor -->
        <a-plane rotation="-90 0 0" width="8" height="8" color="#973de7"></a-plane>
      </a-entity>

      <a-cylinder id="tube_stand" position="4 0.25 -4" color="#c3c2d2" height="1" width="0.1" geometry="height: 0.5; radius: 3; segmentsRadial: 180"></a-cylinder>
      <!-- Blue tube -->
      <a-entity id="blue_tube">
        <a-cylinder position="3.5 0.6 -3.5" color="#96959b" height="1" width="0.1" geometry="height: 0.25; radius: 0.25;"></a-cylinder>
        <a-cylinder position="3.5 0.6 -3.5" color="#0098f1" height="8" width="0.1" geometry="height: 8; radius: 0.2;" open-ended="true" material="transparent: true; opacity: 0.5"></a-cylinder>
        <!-- <a-light type="spot" position="3 0 -3" rotation="90 0 0" light="type:  spot;  color:  #00f0ff;  angle:  15;  distance:  3.5;  intensity:  3"></a-light> -->
        <!-- IMPORTANT FIRST ADD THE ANIMATION MIXIN AND THEN THE GEOMETRY MIXIN -->
        <a-entity entity-generator="mixin: blueBubbleAnimation randomBlueBubble; num:300" ></a-entity>
      </a-entity>

      <!-- Yellow tube -->
      <a-entity id="yellow_tube">
        <a-cylinder position="2 0.6 -3" color="#96959b" height="1" width="0.1" geometry="height: 0.5; radius: 0.5;"></a-cylinder>
        <a-cylinder position="2 0.6 -3" color="#ffee00" height="8" width="0.1" geometry="height: 6; radius: 0.2;" open-ended="true" material="transparent: true; opacity: 0.5"></a-cylinder>
        <!-- <a-light type="spot" position="3 0 -3" rotation="90 0 0" light="type:  spot;  color:  #00f0ff;  angle:  15;  distance:  3.5;  intensity:  3"></a-light> -->
        <!-- IMPORTANT FIRST ADD THE ANIMATION MIXIN AND THEN THE GEOMETRY MIXIN -->
        <a-entity entity-generator="mixin: yellowBubbleAnimation randomYellowBubble; num:300" ></a-entity>
      </a-entity>

      <!-- Pink tube -->
      <a-entity id="pink_tube">
          <a-cylinder position="3 0.6 -2" color="#96959b" height="1" width="0.1" geometry="height: 0.3; radius: 0.3;"></a-cylinder>
          <a-cylinder position="3 0.6 -2" color="#ff008d" height="8" width="0.1" geometry="height: 5; radius: 0.2;" open-ended="true" material="transparent: true; opacity: 0.5"></a-cylinder>
          <!-- <a-light type="spot" position="3 0 -3" rotation="90 0 0" light="type:  spot;  color:  #00f0ff;  angle:  15;  distance:  3.5;  intensity:  3"></a-light> -->
          <!-- IMPORTANT FIRST ADD THE ANIMATION MIXIN AND THEN THE GEOMETRY MIXIN -->
          <a-entity entity-generator="mixin: pinkBubbleAnimation randomPinkBubble; num:300" ></a-entity>
        </a-entity>

      <a-entity id="grid-wall">
        <!-- Bottom row -->
        <a-plane position="3 1 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #00fff5;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_1.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="1 1 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter;  color: #ff66cf;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_2.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-1 1 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #ffe559;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_3.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-3 1 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #6aff99;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_1.m4a); on: mouseenter">
        </a-plane>
        <!-- Middle row  -->
        <a-plane position="3 3 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #6aff99;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_2.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="1 3 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #ffe559;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_3.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-1 3 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #ff66cf;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_1.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-3 3 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #00fff5;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_2.m4a); on: mouseenter">
        </a-plane>
        <!-- Top row  -->
        <a-plane position="3 5 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #00fff5;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_3.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="1 5 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #ff66cf;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_1.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-1 5 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #ffe559;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_2.m4a); on: mouseenter">
        </a-plane>
        <a-plane position="-3 5 4" color="#8a37f6" rotation="0 180 0" 
            geometry="width:2; height:2;"
            event-set__enter="_event: mouseenter; color: #6aff99;"
            event-set__leave="_event: mouseleave; color: #8a37f6;"
            sound="src: url(assets/pop_3.m4a); on: mouseenter">
        </a-plane>
      </a-entity>

      <!-- Pillow -->
      <!-- <a-entity gltf-model="url(/assets/pillow.gltf)"></a-entity> -->
      <a-entity gltf-model="/assets/pillow.gltf" position="-2.63908 0 -2.4926" rotation="0 45 0"></a-entity>
      <a-entity gltf-model="/assets/pillow.gltf" position="-3.30729 0.77114 -3.1234" rotation="90 50 0" scale="0.5 0.5 0.5"></a-entity>
      <!-- <a-obj-model src="/assets/carpet-2.obj" mtl="/assets/carpet-2.mtl" position="0 0.08 0" scale="0.01 0.01 0.01"></a-obj-model> -->
      <!-- <a-obj-model src="/assets/carpet.obj" mtl="/assets/carpet.mtl" position="0 0.08 0" scale="0.01 0.01 0.01"></a-obj-model> -->
       
      <!-- Lighting -->
      <a-entity light="color: #BBB; type: ambient"></a-entity>
      <a-entity light="intensity: 0.6; castShadow: true" position="-0.5 1 1"></a-entity>
      <!-- <a-light type="point" color="blue" position="0 6 0" light="color: #739efc"></a-light> -->
      <!-- <a-light type="spot" color="pink" position="-3.6 0 -3.6" rotation="70 50 -70" light="color: #ff00b2"></a-light> -->
      <!-- <a-light type="spot" animation="property: light.color; to: #ff00e8; loop: true; dir: alternate; dur: 1000" position="2.60474 0.47545 -2.82373" rotation="14.807521257360996 -86.29775718701434 -101.84382104229896" light="intensity: 0.5 color: #00ffe4; angle: 5"> -->
      </a-light>
    </a-scene>
  </body>
</html>